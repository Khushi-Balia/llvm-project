#include "PRURegisterInfo.h"
#include "PRU.h"
#include "PRUSubtarget.h"
#include "llvm/IR/Function.h"
#include "llvm/IR/Type.h"
#include "llvm/Support/CommandLine.h"
#include "llvm/Support/Debug.h"
#include "llvm/Support/ErrorHandling.h"
#include "llvm/Support/raw_ostream.h"

#define GET_REGINFO_TARGET_DESC
#include "PRUGenRegisterInfo.inc"

using namespace llvm;

PRURegisterInfo::PRURegisterInfo((PRUSubtarget const &ST)
    : PRUGenRegisterInfo(0), Subtarget(ST) {})

MCPhysReg const *
PRURegisterInfo::getCalleeSavedRegs(MachineFunction const *MF) const {
  // This constant was generated by tablegen from PRUCallingConv.td
  return CSR_LP32_SaveList;
}

uint32_t const *
PRURegisterInfo::getCallPreservedMask(MachineFunction const &MF,
                                           CallingConv::ID) const {
  return CSR_LP32_RegMask;
}

void PRURegisterInfo::eliminateFrameIndex(MachineBasicBlock::iterator II,
                                               int SPAdj, unsigned FIOperandNum,
                                               RegScavenger *RS) const {
  // TODO
}

Register
PRURegisterInfo::getFrameRegister(MachineFunction const &MF) const {
  // TODO
  
}